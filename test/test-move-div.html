<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<script src="jquery-1.9.1.min.js"></script>
		<style>
				*{
					margin: 0px auto;
					padding: 0px;
				}
				#show{
					width: 400px;
					height: 400px;
					border:2px solid blue;
					overflow: auto;	
				}
				#map{
					width: 1200px;
					height: 500px;
					border:1px solid red;
				}
				#mainRole{
					margin-left: 0px;
					margin-top: 0px;
					width: 120px;
					height: 50px;
					background: green;
				}
		</style>
	</head>
	<body>
		<div id="show" >
			
			<div id="map">
				<div id="mainRole" ></div>
			</div>
		</div>
	</body>
</html>
<script>
	var n_position = '';
	var now_top = 0;
	var now_left = 0;
	$(function(){
		document.onkeydown = function(event){
			// var left 37 , up 38, right 39, down 40
			var enent = event || window.event;
			var nkey = event.which || event.keyCode;
			switch (nkey){
				case 37:
					// 不允许回头
					if(n_position != 'right'){
						n_position = 'left';
					}
					break;
				case 38:
					if(n_position != 'down'){
						n_position = 'up';
					}
					break;
				case 39:
					if(n_position != 'left'){
						n_position = 'right';
					}
					break;
				case 40:
					if(n_position != 'up'){
						n_position = 'down';
					}
					break;
				default:
					break;
			}
			move();
		}
	});
	
	function move(){
		now_left = parseInt($('#mainRole').attr('margin-left'));
		now_top = parseInt($('#mainRole').attr('margin-top'));
		if(n_position == 'left'){
			
			
		}
		
	}
</script>
